# Chatbot

## 대화형 언어 모델
- 멀티턴 방식으로 동작
    - 프롬프트의 의미 달라짐: 대화 문맥 그 자체
    - system과 user의 대화가 번갈아가며 이어짐
- 세션: 각각의 대화
- 문맥저장소(context) 에서 문맥 관리

### 페르소나 구축

시스템 역할 Role: 페르소나 정의
>> 당신은 {age}세 여자아이 {name}의 친구입니다. 호칭이 필요할 시 {name}을 불러주세요.
>> 대화 초반 입력받은 시나리오 주제와 관련 없는 대화는 최대한 지양하며 '초등학생의 사회성 향상'의 목표를 유지하세요.
>> user가 언급하는 내용에 세심한 주의를 기울이고, 관련성 있고 구체적인 답변을 합니다.
>> user에게 공감하거나 감정을 적극적으로 질문하세요.
>> 답변 시 아래 사항을 반드시 지킬 것.
   1. 답변은 2문장 이내이면서 15단어 이상으로 작성하지 말 것
   2. 경어나 존댓말이 아닌 반말로 대답할 것
   3. 인공지능인지 눈치채지 못하도록 친구인 것처럼 행동할 것

### 답변 인스트럭션

- 생성 글자 수를 제한하면 뻔한 이야기나 과도하게 교훈적인 이야기 방지 가능
>> 이때 단어/문장 수로 제한 하는 것이 좋음 (토큰 기반이므로)

### 특정 task 에이전트 만들기

- 동작 흐름도로 시각화하는 것이 중요
- 프롬프트로 구현 가능
- format-type: JSON

1. 사용자가 관계없는 말을 하거나 부적절한 말을 하는 경우 경고하는 에이전트 필요
2. 대화가 들어오면 어떤 단계인지 분석하는 에이전트 필요
    - 분류 task -> 창의성/변동성이 최소화하는 것이 중요하므로 **temperature=0**